(self.webpackChunkpurify_website=self.webpackChunkpurify_website||[]).push([[730],{1109:function(e,t,n){"use strict";n.r(t);var a=n(7294),i=n(9),r=n(8902),o=n(5656),s=n(9731),l=n(3904),c=n(5681),u=i.default.h1.withConfig({displayName:"sc-015__Title",componentId:"sc-15i002i-0"})(["margin-bottom:0;"]),d=i.default.div.withConfig({displayName:"sc-015__Subtitle",componentId:"sc-15i002i-1"})(["padding-bottom:30px;"]),h=i.default.h2.withConfig({displayName:"sc-015__Topic",componentId:"sc-15i002i-2"})(["font-weight:normal;"]),m=i.default.div.withConfig({displayName:"sc-015__TopicDescription",componentId:"sc-15i002i-3"})(["padding-right:15%;@media only screen and (max-width:768px){padding-right:0;}"]);t.default=function(e){return a.createElement(o.Z,{location:e.location},a.createElement(u,null,"Purify v0.15"),a.createElement(d,null,"April 30, 2020"),a.createElement("div",null,"Not sure what purify is? Check out the"," ",a.createElement(r.ZP,{to:"/getting-started"},"Getting Started")," page. Also check out the ",a.createElement(r.ZP,{to:"/faq"},"FAQ")," page!",a.createElement("br",null)),a.createElement(h,null,a.createElement("span",{style:{color:"#d22626"}},"Breaking change")," inside Codec"),a.createElement(m,null,a.createElement(r.ZP,{to:"/util/Codec"},"Codec")," had a ",a.createElement(c.HL,null,"undefinedType")," codec which was insufficient as there was no way to create optional properties on an object.",a.createElement("br",null),"This was brought up in an issue and to resolve this I removed this codec in favor of a ",a.createElement(c.HL,null,"optional")," combinator, please check out"," ",a.createElement(r.ZP,{to:"/utils/Codec#optional"},"the docs")," on how to use it."),a.createElement(h,null,"An updated Either/MaybeAsync API"),a.createElement(m,null,"When I first started designing the API for Either and MaybeAsync I wanted to bring the ease of use of proper error handling within IO, just like it is in languages with do-notation and for-comprehensions.",a.createElement("br",null)," That's why the original API in version"," ",a.createElement(r.ZP,{to:"/changelog/0.12"},"0.12")," only worked with async/await and I thought and this will be enough for most people.",a.createElement("br",null),'Turns out most people started creating wrappers to make it more chainable and issues started piling in GitHub, no one liked the "imperative" API.',a.createElement("br",null),"That's why I decided to spend some time brainstorming a new API, that didn't force people to use async/await, and this is the result:",a.createElement(s.Z,{language:"javascript",style:l.Z},"// async/await\nconst deleteUser = (req) =>\n    EitherAsync(async ({ liftEither, fromPromise, throwE }) => {\n       const request  = await liftEither(validateRequest(req))\n\n       try {\n           const user = await fromPromise(getUser(request.userId))\n       } catch {\n           throwE(Error.UserDoesNotExist)\n       }\n\n       return deleteUserDb(user)\n    })"),a.createElement(s.Z,{language:"javascript",style:l.Z},"// new API\nconst deleteUser = (req) =>\n    liftEither(validateRequest(req))\n        .chain(request => fromPromise(() => getUser(request.userId)))\n        .mapLeft(_     => Error.UserDoesNotExist)\n        .chain(user    => liftPromise(() => deleteUserDb(user)))"),"This is stripped down version of the code, just to demonstrate the similarities, for the full version check out the updated documentation of"," ",a.createElement(r.ZP,{to:"/adts/EitherAsync"},"EitherAsync")," and"," ",a.createElement(r.ZP,{to:"/adts/MaybeAsync"},"MaybeAsync"),".",a.createElement("br",null),"Both APIs will exist simultaneously and you're free to use whichever you like, much like how you can use both async/await and Promise.then."),a.createElement(h,null,"Other changes"),a.createElement(m,null,a.createElement("ul",null,a.createElement("li",null,"Added a new ",a.createElement(c.HL,null,"Either#swap")," method"))))}}}]);
//# sourceMappingURL=component---src-pages-changelog-0-15-js-bfd92d483212ec86af76.js.map